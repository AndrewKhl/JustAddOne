# Лабораторный проект по предмету ВиАПО (Верификация и аттестация программного обеспечения)
### Магистранта группы 056241 Хлопцева Андрея Алексеевича

# Задача
Создать проект, состоящий из 2 частей:
1. Сервер, выполняющий какую-то заранее определённую логику и способный обрабатывать большое количество запросов.
2. Страницу, содержащую кнопку для отправки запроса на сервер.

# Основная идея
Созданный сервер будет складывать 2 числа: первое хранится на сервере, а второе посылает пользователь. На странице будет поле, в которое пользователь сможет записать число, которое он хочет прибавить к общему числу. После нажатия на кнопку данное поле очистится, а строка, введённая в поле будет отправлена на сервер.

# Описание реализации проекта

## Страница:

![Базовый интерфейс](/screenshots/MainPage.png?raw=true)

Данная страница содержит поле для отправки числа. Также существует 2 GET запроса:
1. Запрос берёт значение в форме и отправляет его на сервер. Выполняется после нажатия кнопки
2. Запрос выполняется каждые 500 мс. Выводит сумму с сервера. (используется AJAX)

![Сложение чисел](/screenshots/NumberOutput.png?raw=true)

## Сервер:

![Серверная идея](/screenshots/SystemScheme.png?raw=true)

Основная идея сервера в том, чтобы он мог обрабатывать большое количество запросов и не ломаться при этом. Для этого было реализовано несколько вещей:

1. Для ускорения отправки запросов используется технология SignalR
2. Поток, отправляющий данные на сервер, ничего с ними не делает. Его основная задача доставить данные на сервер как можно быстрее и бросить их в очередь фильтрации
3. Первый из потоков сервера будет заниматься фильтраций полученных данных:
    1. Строка не должна быть пустой
    2. Все символы в строке должны быть числами
    3. Число должно быть положительным
    4. Длина строки не должна превышать 1000 символов (можно настроить)
4. Второй из потоков забирает отфильтрованные данные и передает их в модуль сложения
5. Модуль сложения использует алгоритмы длинной арифметики, локальные и компиляторные оптимизации

# Метрики

Т.к. данный проект нигде не захосчен, в качестве метрик возьмём количественные и системные метрики сервера. Всё тестирование производилось под режимом Release

## Время обработки запросов

Время обработки запросов считалось с помощью специальной функции на стороне клиента.

Count 1 time 0.7200000109151006ms
Count 10 time 1.7550000047776848ms
Count 100 time 10.07499999832362ms
Count 1000 time 91.39499999582767ms
Count 10000 time 954.79499999783ms
Count 100000 time 8214.96000001207ms

![Метрика1](/screenshots/Metric1.png?raw=true)

## Кол-во обработанных запросов в секунду

Проверка производилась при максимальной нагрузке сервера

Sec № 1 Requests 1860ms
Sec № 2 Requests 5535ms
Sec № 3 Requests 10953ms
Sec № 4 Requests 20794ms
Sec № 5 Requests 21053ms
Sec № 6 Requests 18195ms
Sec № 7 Requests 20031ms
Sec № 8 Requests 21539ms
Sec № 9 Requests 19740ms
Sec № 10 Requests 21534ms
Sec № 11 Requests 19740ms
Sec № 12 Requests 19739ms
Sec № 13 Requests 21535ms
Sec № 14 Requests 19739ms
Sec № 15 Requests 21535ms
Sec № 16 Requests 19739ms
Sec № 17 Requests 19740ms
Sec № 18 Requests 21485ms
Sec № 19 Requests 19789ms
Sec № 20 Requests 19740ms
Sec № 21 Requests 19739ms
Sec № 22 Requests 21535ms
Sec № 23 Requests 19739ms
Sec № 24 Requests 20590ms
Sec № 25 Requests 20684ms
Sec № 26 Requests 20322ms

![Метрика2](/screenshots/Metric2.png?raw=true)

## Время работы 1 итерации фильтрации

![Метрика3](/screenshots/Metric3.png?raw=true)

## Время работы 1 итерации сложения

![Метрика4](/screenshots/Metric4.png?raw=true)